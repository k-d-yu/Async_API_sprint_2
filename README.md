# Исправления первого ревью

Поправлены замечания. По поводу пунта 7 - у нас в проекте используется применение данных к тестовому контейнеру эластика через другой контейнер с использованием пакета `elasticsearch-dump`. Не видели особой разницы в применении через код, или из контейнера (с учетом того, что контейнер точно так же как и питоновский код коннектится к указанным хосту/порту). Но комментарий про отдельную базу был учтен, добавили очистку redis'а/elastic'а после окончания тестов с помощью фикстур.

Добавили вейтеры для es и redis.

### Информация о проекте

Выполненное задание пятого спринта. В качестве данных для тестов используется дамп сгенерированных в прошлом спринте фильмов, персон и жанров. Для загрузки файлов дампа используется `git lfs` (проверить, что файлы `.data` загружаются при клонировании репозитория). Имеются два сценария запуска:

### Первый - из docker-compose.

В этом случае поднимается elasticsearch и redis, после healthcheck'а запускается наполнение elastic'а данными из дампа, после успешной отработки процесса запускается API, после успешной проверки (healthcheck) которого запускаются тесты. Из основной директории:
````
docker-compose -f docker-compose.yml up -d
````

### Второй - локальные тесты.

Аналогично первому случаю -- запускаются и проверяются redis, elastic и API, но в этом варианте elasticsearch не наполняется данными.
Контейнеры в этом случае запускаются командами
````
docker-compose -f develop-compose.yml up -d
cd tests/functional
pip install -r requirements.txt
./init.sh
````

Для запуска тестов необходимо наполнить базу elastic'a, изменить тестовые данные в файле `tests/functional/tesdata/data.py` на соответствующие наполнению базы, после чего из директории `functional` запустить тесты командой
````
pytest
````

# Проектная работа 5 спринта

<details> `<summary>Описание задания на 5спринт</summary>

В папке **tasks** ваша команда найдёт задачи, которые необходимо выполнить во втором спринте модуля "Сервис Async API".

Как и в прошлом спринте, мы оценили задачи в стори поинтах.

Вы можете разбить эти задачи на более маленькие, например, распределять между участниками команды не большие куски задания, а маленькие подзадачи. В таком случае не забудьте зафиксировать изменения в issues в репозитории.

**От каждого разработчика ожидается выполнение минимум 40% от общего числа стори поинтов в спринте.**

</details>
